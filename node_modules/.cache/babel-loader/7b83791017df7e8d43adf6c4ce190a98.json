{"ast":null,"code":"import _slicedToArray from \"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/src/ui/Input/index.js\";\nimport React, { useState, Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport './index.scss';\n\nclass InputNumber extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      focus: false,\n      innerValue: ''\n    };\n  }\n\n  get isControl() {\n    return 'value' in this.props;\n  }\n\n  get value() {\n    if (this.isControl) {\n      return this.props.value;\n    } else {\n      return this.state.innerValue;\n    }\n  }\n\n  render() {\n    const focus = this.state.focus;\n\n    const _this$props = this.props,\n          icon = _this$props.icon,\n          children = _this$props.children,\n          size = _this$props.size,\n          prefix = _this$props.prefix,\n          suffix = _this$props.suffix,\n          onChange = _this$props.onChange,\n          _this$props$rule = _this$props.rule,\n          rule = _this$props$rule === void 0 ? new RegExp() : _this$props$rule,\n          message = _this$props.message,\n          rest = _objectWithoutProperties(_this$props, [\"icon\", \"children\", \"size\", \"prefix\", \"suffix\", \"onChange\", \"rule\", \"message\"]);\n\n    let cls = classNames({\n      input: true,\n      focus,\n      [\"size-\".concat(size)]: true,\n      'ui__input': true\n    });\n    console.log(rest);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: cls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, prefix && React.createElement(Icon, {\n      name: prefix,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      value: this.value,\n      onFocus: e => {\n        this.setState({\n          focus: true\n        });\n      },\n      onBlur: e => {\n        this.setState({\n          focus: false\n        });\n      },\n      onChange: e => {\n        if (!this.isControl) {\n          this.setState({\n            innerValue: e.target.value\n          });\n        }\n\n        this.props.onChange(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), suffix && React.createElement(Icon, {\n      name: suffix,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, !rule.test(this.value) && message));\n  }\n\n  componentDidMount() {\n    this.setState({\n      innerValue: this.props.defaultValue\n    });\n  }\n\n}\n\nInputNumber.propTypes = {\n  value: PropTypes.string,\n  defaultValue: PropTypes.string,\n  onChange: PropTypes.func,\n  size: PropTypes.string\n};\nInputNumber.defaultProps = {\n  size: 'middle',\n  onChange: () => {}\n};\n\nconst App = props => {\n  const _useState = useState('aaa'),\n        _useState2 = _slicedToArray(_useState, 2),\n        value = _useState2[0],\n        setValue = _useState2[1];\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(InputNumber, {\n    value: value,\n    onChange: e => {},\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(InputNumber, {\n    defaultValue: value,\n    onChange: e => {\n      console.log('改变值');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/apple/Desktop/lzz/网易微课堂/lianxi/part2/wydemo/src/ui/Input/index.js"],"names":["React","useState","Component","classNames","PropTypes","InputNumber","constructor","props","state","focus","innerValue","isControl","value","render","icon","children","size","prefix","suffix","onChange","rule","RegExp","message","rest","cls","input","console","log","e","setState","target","test","componentDidMount","defaultValue","propTypes","string","func","defaultProps","App","setValue"],"mappings":"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","sourcesContent":["import React,{useState, Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types' \r\nimport './index.scss'\r\nclass InputNumber extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tfocus: false,\r\n\t\t\tinnerValue: ''\r\n\t\t}\r\n\t}\r\n\tstatic propTypes = {\r\n\t\tvalue: PropTypes.string,\r\n\t\tdefaultValue: PropTypes.string,\r\n\t\tonChange: PropTypes.func,\r\n\t\tsize:PropTypes.string,\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tsize: 'middle',\r\n\t\tonChange: () => {}\r\n\t}\r\n\r\n\tget isControl(){\r\n\t\treturn 'value' in this.props\r\n\t}\r\n\r\n\tget value() {\r\n\t\tif(this.isControl){\r\n\t\t\treturn this.props.value\r\n\t\t} else {\r\n\t\t\treturn this.state.innerValue\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfocus\r\n\t\t} = this.state\r\n\t\tconst {\r\n\t\t\ticon,\r\n\t\t\tchildren,\r\n\t\t\tsize,\r\n\t\t\tprefix,\r\n\t\t\tsuffix,\r\n\t\t\tonChange,\r\n\t\t\trule= new RegExp(),\r\n\t\t\tmessage,\r\n\t\t\t...rest\r\n\r\n\t\t} = this.props\r\n\t\tlet cls = classNames({\r\n\t\t\tinput: true,\r\n\t\t\tfocus,\r\n\t\t\t[`size-${size}`]: true,\r\n\t\t\t'ui__input': true\r\n\t\t})\r\n\t\tconsole.log(rest); \r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<div className={cls}>\r\n\t\t\t\t{prefix && <Icon name={prefix}/>}\r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={this.value}\r\n\r\n\t\t\t\t\tonFocus={e => {\r\n\t\t\t\t\t\tthis.setState({focus: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonBlur={e => {\r\n\t\t\t\t\t\tthis.setState({focus: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif(!this.isControl){\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tinnerValue: e.target.value\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.props.onChange(e)\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t{suffix && <Icon name={suffix}/>}\r\n\r\n\r\n\t\t\t</div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{!rule.test(this.value) && message}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\tinnerValue: this.props.defaultValue\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nconst App = (props) => {\r\n  const [value,setValue] = useState('aaa');\r\n  return (\r\n      <div> \r\n      <InputNumber value={value} onChange={e=>{}}/>\r\n      <InputNumber defaultValue={value} onChange={e=>{console.log('改变值')}}/>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}