{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectWithoutProperties from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import _classCallCheck from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/apple/Desktop/lzz/\\u7F51\\u6613\\u5FAE\\u8BFE\\u5802/lianxi/part2/wydemo/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{useState,Component}from'react';import classNames from'classnames';import'./index.scss';var InputNumber=/*#__PURE__*/function(_Component){_inherits(InputNumber,_Component);function InputNumber(props){var _this;_classCallCheck(this,InputNumber);_this=_possibleConstructorReturn(this,_getPrototypeOf(InputNumber).call(this,props));_this.state={focus:false,innerValue:''};return _this;}_createClass(InputNumber,[{key:\"render\",value:function render(){var _classNames,_this2=this;var focus=this.state.focus;var _this$props=this.props,children=_this$props.children,size=_this$props.size,suffix=_this$props.suffix,onChange=_this$props.onChange,_this$props$rule=_this$props.rule,rule=_this$props$rule===void 0?new RegExp():_this$props$rule,message=_this$props.message,rest=_objectWithoutProperties(_this$props,[\"children\",\"size\",\"suffix\",\"onChange\",\"rule\",\"message\"]);var cls=classNames((_classNames={input:true,focus:focus},_defineProperty(_classNames,\"size-\".concat(size),true),_defineProperty(_classNames,'ui__input',true),_classNames));console.log(rest);return React.createElement(\"div\",null,React.createElement(\"div\",{className:cls},React.createElement(\"input\",{value:this.value,onFocus:function onFocus(e){_this2.setState({focus:true});},onBlur:function onBlur(e){_this2.setState({focus:false});},onChange:function onChange(e){if(!_this2.isControl){_this2.setState({innerValue:e.target.value});}_this2.props.onChange(e);}})),React.createElement(\"p\",null,!rule.test(this.value)&&message));}},{key:\"componentDidMount\",value:function componentDidMount(){this.setState({innerValue:this.props.defaultValue});}},{key:\"isControl\",get:function get(){return'value'in this.props;}},{key:\"value\",get:function get(){if(this.isControl){return this.props.value;}else{return this.state.innerValue;}}}]);return InputNumber;}(Component);InputNumber.defaultProps={size:'middle',onChange:function onChange(){}};var App=function App(props){var _useState=useState('aaa'),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];return React.createElement(\"div\",null,React.createElement(InputNumber,{value:value,onChange:function onChange(e){}}),React.createElement(InputNumber,{defaultValue:value,onChange:function onChange(e){console.log('改变值');}}));};export default App;","map":{"version":3,"sources":["/Users/apple/Desktop/lzz/网易微课堂/lianxi/part2/wydemo/src/ui/Input/index.js"],"names":["React","useState","Component","classNames","InputNumber","props","state","focus","innerValue","children","size","suffix","onChange","rule","RegExp","message","rest","cls","input","console","log","value","e","setState","isControl","target","test","defaultValue","defaultProps","App","setValue"],"mappings":"oxCAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAwBC,SAAxB,KAAwC,OAAxC,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,CAEA,MAAO,cAAP,C,GACMC,CAAAA,W,qEACL,qBAAYC,KAAZ,CAAkB,6CACjB,6EAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACZC,KAAK,CAAE,KADK,CAEZC,UAAU,CAAE,EAFA,CAAb,CAFiB,aAMjB,C,+DA0BQ,gCAEPD,CAAAA,KAFO,CAGJ,KAAKD,KAHD,CAEPC,KAFO,iBAaJ,KAAKF,KAbD,CAKPI,QALO,aAKPA,QALO,CAMPC,IANO,aAMPA,IANO,CAOPC,MAPO,aAOPA,MAPO,CAQPC,QARO,aAQPA,QARO,8BASPC,IATO,CASPA,IATO,2BASD,GAAIC,CAAAA,MAAJ,EATC,kBAUPC,OAVO,aAUPA,OAVO,CAWJC,IAXI,gGAcR,GAAIC,CAAAA,GAAG,CAAGd,UAAU,eACnBe,KAAK,CAAE,IADY,CAEnBX,KAAK,CAALA,KAFmB,6CAGVG,IAHU,EAGD,IAHC,8BAInB,WAJmB,CAIN,IAJM,eAApB,CAMAS,OAAO,CAACC,GAAR,CAAYJ,IAAZ,EACA,MACC,gCACA,2BAAK,SAAS,CAAEC,GAAhB,EACC,6BACC,KAAK,CAAE,KAAKI,KADb,CAGC,OAAO,CAAE,iBAAAC,CAAC,CAAI,CACb,MAAI,CAACC,QAAL,CAAc,CAAChB,KAAK,CAAE,IAAR,CAAd,EAEA,CANF,CAOC,MAAM,CAAE,gBAAAe,CAAC,CAAI,CACZ,MAAI,CAACC,QAAL,CAAc,CAAChB,KAAK,CAAE,KAAR,CAAd,EAEA,CAVF,CAWC,QAAQ,CAAE,kBAACe,CAAD,CAAO,CAChB,GAAG,CAAC,MAAI,CAACE,SAAT,CAAmB,CAClB,MAAI,CAACD,QAAL,CAAc,CACbf,UAAU,CAAEc,CAAC,CAACG,MAAF,CAASJ,KADR,CAAd,EAGA,CACD,MAAI,CAAChB,KAAL,CAAWO,QAAX,CAAoBU,CAApB,EACA,CAlBF,EADD,CADA,CAyBC,6BACE,CAACT,IAAI,CAACa,IAAL,CAAU,KAAKL,KAAf,CAAD,EAA0BN,OAD5B,CAzBD,CADD,CA+BA,C,6DAEmB,CACnB,KAAKQ,QAAL,CAAc,CACbf,UAAU,CAAE,KAAKH,KAAL,CAAWsB,YADV,CAAd,EAGA,C,qCAvEc,CACd,MAAO,SAAW,MAAKtB,KAAvB,CACA,C,iCAEW,CACX,GAAG,KAAKmB,SAAR,CAAkB,CACjB,MAAO,MAAKnB,KAAL,CAAWgB,KAAlB,CACA,CAFD,IAEO,CACN,MAAO,MAAKf,KAAL,CAAWE,UAAlB,CACA,CACD,C,yBA9BwBN,S,EAApBE,W,CAeEwB,Y,CAAe,CACrBlB,IAAI,CAAE,QADe,CAErBE,QAAQ,CAAE,mBAAM,CAAE,CAFG,C,CAgFvB,GAAMiB,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,CAACxB,KAAD,CAAW,eACIJ,QAAQ,CAAC,KAAD,CADZ,wCACdoB,KADc,eACRS,QADQ,eAErB,MACI,gCACA,oBAAC,WAAD,EAAa,KAAK,CAAET,KAApB,CAA2B,QAAQ,CAAE,kBAAAC,CAAC,CAAE,CAAE,CAA1C,EADA,CAEA,oBAAC,WAAD,EAAa,YAAY,CAAED,KAA3B,CAAkC,QAAQ,CAAE,kBAAAC,CAAC,CAAE,CAACH,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmB,CAAnE,EAFA,CADJ,CAMD,CARD,CAUA,cAAeS,CAAAA,GAAf","sourcesContent":["import React,{useState, Component} from 'react'\r\nimport classNames from 'classnames'\r\nimport PropTypes from 'prop-types' \r\nimport './index.scss'\r\nclass InputNumber extends Component{\r\n\tconstructor(props){\r\n\t\tsuper(props)\r\n\t\tthis.state = {\r\n\t\t\tfocus: false,\r\n\t\t\tinnerValue: ''\r\n\t\t}\r\n\t}\r\n\tstatic propTypes = {\r\n\t\tvalue: PropTypes.string,\r\n\t\tdefaultValue: PropTypes.string,\r\n\t\tonChange: PropTypes.func,\r\n\t\tsize:PropTypes.string,\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tsize: 'middle',\r\n\t\tonChange: () => {}\r\n\t}\r\n\r\n\tget isControl(){\r\n\t\treturn 'value' in this.props\r\n\t}\r\n\r\n\tget value() {\r\n\t\tif(this.isControl){\r\n\t\t\treturn this.props.value\r\n\t\t} else {\r\n\t\t\treturn this.state.innerValue\r\n\t\t}\r\n\t}\r\n\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfocus\r\n\t\t} = this.state\r\n\t\tconst { \r\n\t\t\tchildren,\r\n\t\t\tsize, \r\n\t\t\tsuffix,\r\n\t\t\tonChange,\r\n\t\t\trule= new RegExp(),\r\n\t\t\tmessage,\r\n\t\t\t...rest\r\n\r\n\t\t} = this.props\r\n\t\tlet cls = classNames({\r\n\t\t\tinput: true,\r\n\t\t\tfocus,\r\n\t\t\t[`size-${size}`]: true,\r\n\t\t\t'ui__input': true\r\n\t\t})\r\n\t\tconsole.log(rest); \r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t<div className={cls}> \r\n\t\t\t\t<input\r\n\t\t\t\t\tvalue={this.value}\r\n\r\n\t\t\t\t\tonFocus={e => {\r\n\t\t\t\t\t\tthis.setState({focus: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonBlur={e => {\r\n\t\t\t\t\t\tthis.setState({focus: false\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif(!this.isControl){\r\n\t\t\t\t\t\t\tthis.setState({\r\n\t\t\t\t\t\t\t\tinnerValue: e.target.value\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.props.onChange(e)\r\n\t\t\t\t\t}}\r\n\t\t\t\t/> \r\n\r\n\r\n\t\t\t</div>\r\n\t\t\t\t<p>\r\n\t\t\t\t\t{!rule.test(this.value) && message}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.setState({\r\n\t\t\tinnerValue: this.props.defaultValue\r\n\t\t})\r\n\t}\r\n\r\n}\r\n\r\nconst App = (props) => {\r\n  const [value,setValue] = useState('aaa');\r\n  return (\r\n      <div> \r\n      <InputNumber value={value} onChange={e=>{}}/>\r\n      <InputNumber defaultValue={value} onChange={e=>{console.log('改变值')}}/>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}